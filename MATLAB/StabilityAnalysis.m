clear
clc
close all

% Build a cascade (row vector) of RF elements
elements(1) = nport('PMA2-63LN+_5.00V_42mA_Plus25DegC_Unit1.s2p','PMA2_63LN');
elements(2) = nport('YAT-1A+_Plus25DegC_Unit1.s2p','YAT1A');
elements(3) = nport('PMA2-63LN+_5.00V_42mA_Plus25DegC_Unit1.s2p','PMA2_63LN');

% Construct an rfbudget object
bideal = rfbudget( ...
    'Elements',elements, ...
    'InputFrequency',10e9, ...
    'AvailableInputPower',-30, ...
    'SignalBandwidth',20e9, ...
    'Solver','Friis', ...
    'AutoUpdate',0);

show(bideal)

% Build a cascade (row vector) of RF elements
elements(1) = txlineMicrostrip( ...
    'Name','TransmissionLine', ...
    'Width',0.0041, ...
    'Height',0.000762, ...
    'Thickness',3.56e-05, ...
    'EpsilonR',3.66, ...
    'LossTangent',0.01, ...
    'LineLength',0.00508);
elements(2) = nport('PMA2-63LN+_5.00V_42mA_Plus25DegC_Unit1.s2p','PMA2_63LN');
elements(3) = nport('YAT-1A+_Plus25DegC_Unit1.s2p','YAT1A');
elements(4) = nport('PMA2-63LN+_5.00V_42mA_Plus25DegC_Unit1.s2p','PMA2_63LN');
elements(5) = txlineMicrostrip( ...
    'Name','TransmissionLine', ...
    'Width',0.0041, ...
    'Height',0.000762, ...
    'Thickness',3.56e-05, ...
    'EpsilonR',3.66, ...
    'LossTangent',0.01, ...
    'LineLength',0.00508);

% Construct an rfbudget object
b = rfbudget( ...
    'Elements',elements, ...
    'InputFrequency',10e9, ...
    'AvailableInputPower',-30, ...
    'SignalBandwidth',20e9, ...
    'Solver','Friis', ...
    'AutoUpdate',0);

show(b)